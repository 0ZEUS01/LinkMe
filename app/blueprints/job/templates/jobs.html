{% extends 'full_base_navbar.html' %}
{% block title %}
    <title>Job Listings</title>
{% endblock %}
{% block main %}
<style>
.jobs-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    margin: 20px auto;
    max-width: 1200px;
}

.job-card {
    background-color: #e9dede;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 0 50px rgba(0, 118, 196, 0.548); /* Adjust the shadow color and intensity as needed */
    width: 100%;
}

.job-card h2 {
    margin-top: 0;
}

.job-card p {
    margin-bottom: 10px;
}

.search-container {
    text-align: center;
}

.search-container form {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 100%;
}

.search-container input[type="text"] {
    padding: 10px;
    width: 50%;
    border-radius: 5px 0 0 5px; /* Adjust border radius to match the button placement */
    border: 1px solid #d4cbcb;
    font-size: 16px;
}

.search-container button {
    padding: 10px;
    border: none;
    background-color: #f8f3f3;
    color: white;
    border-radius: 0 5px 5px 0; /* Match input border radius for seamless appearance */
    cursor: pointer;
}

.search-container button i {
    font-size: 1.2rem;
    color: #000;
}

.no-jobs-found {
    text-align: center;
    margin-top: 50px;
}

.no-jobs-found img {
    width: 100px;
    height: 100px;
    margin-bottom: 20px;
}

.job-titles-list li {
    display: inline-block;
    padding: 10px 15px;
    font-weight: bold;
    color: #007bff; /* Adjust color as needed */
    border: 2px solid #007bff;
    border-radius: 50px;
    white-space: nowrap;
    overflow: hidden;
    max-width: 200px; /* Adjust width as needed */
}
</style>

<div class="search-container my-5">
    <form action="{{ url_for('job.search_jobs') }}" method="GET">
        <input type="text" name="title" id="title" placeholder="Search jobs by title...">
        <button type="submit" class="btn btn-primary"><i class="fa-brands fa-searchengin"></i></button>
    </form>
</div>

{% if jobs %}
<div class="suggested-jobs text-center">
    <h3>Job Titles</h3>
</div>

<div class="jobs-container">
    {% for job in set_jobs %}
    <div class="col-md-4">
        <div class="job-card">
            <ul class="job-titles-list">
                    <li>{{ job }}</li>
            </ul>
        </div>
    </div>
    {% endfor %}
</div>

<hr>
<div class="suggested-jobs text-center">
    <h3>Jobs based on your skills</h3>
</div>

<div class="jobs-container">
    {% for job in jobs %}
    <div class="col-md-4">
        <div class="job-card" style="height: 100%">
            <h2 class="fs-4">{{ job['Job Title'] }}</h2>
            <hr>
            <p><strong>Company:</strong> {{ job['Company'] }}</p>
            <p><strong>Location:</strong> {{ job['Location'] }}</p>
            <p><strong>Salary Range:</strong> {{ job['Salary Range'] | replace("Â£", "MAD ") }}</p>
            <p><strong>Required Skills:</strong> {{ job['Required Skills'] }}</p>
            <p><strong>Responsibility:</strong> {{ job['Job Description'] }}</p>
            <p><strong>Experience Level:</strong> {{ job['Experience Level'] }}</p>
            <p><strong>Industry:</strong> {{ job['Industry'] }}</p>
            <p><strong>Job Type:</strong> {{ job['Job Type'] }}</p>
            <p><strong>Date Posted:</strong> {{ job['Date Posted'] }}</p>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="no-jobs-found">
    <i class="fa-brands fa-searchengin"></i>
    <p>No jobs found</p>
</div>
{% endif %}

{% endblock %}
